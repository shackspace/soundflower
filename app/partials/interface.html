<svg width="500" height="500" style="border: 1px solid #000;" ng-mousemove="updateNode($event)" ng-mouseup="stopMove()" ng-mouseleave="stopMove()">



  <g ng-repeat="node in nodes"
           transform="translate({{ node.x }}, {{ node.y }})">
    <rect
      ng-mousedown="startMove($event, node)"
      x="-50" y="-50"
      width="100" height="100"
      fill="{{ node.color }}"  />
    <circle cx="50" cy="0" r="10" ng-click="connectLine(node)"/>
  </g>




  <path ng-repeat="line in lines"
    d="M {{ line.start.x }} {{ line.start.y }} L {{ line.end.x }} {{ line.end.y }}"
        stroke="blue" stroke-width="3" />


</svg>